<!DOCTYPE html>
<!-- saved from url=(0056)https://cloud.quklive.com/cloud/a/embed/1716987580964053 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style class="vjs-styles-defaults">
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    </style><style class="vjs-styles-dimensions"></style>
    
    <title>直播 | 中国科学家博物馆首展探馆</title>
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link href="./videojs-7.11.5.min.css" rel="stylesheet">
    <link href="./videojs-resolution-switcher-v7.css" rel="stylesheet">
    <link href="./aliplayer-min.css" rel="stylesheet">
    
    <style type="text/css">
        html{overflow: hidden;}
        html,body,#my-video{width: 100%;height: 100%;padding: 0;margin: 0;}
        body{background:#191919;font-family:"宋体",Arial,Tahoma;}
        #v_e{width:100%;height:100%;background:#191919;text-align: center;position: relative;cursor:pointer;background-size:contain;background-position:center;background-repeat:no-repeat;}
        .word{font-size: 18px;color:#fff;position: absolute;top: 50%;margin: -10px 0 0 0;width:100%;}
        .video-js .vjs-time-control{display:block;}
        .video-js .vjs-remaining-time{display: none;}
        .video-js .vjs-time-control{min-width: 0.4em;padding: 0 0.2em;}
        .video-js .vjs-big-play-button{
            font-size: 2.5em;
            line-height: 2.5em;
            height: 2.5em;
            width: 2.5em;
            -webkit-border-radius: 2.5em;
            -moz-border-radius: 2.5em;
            border-radius: 2.5em;
            background-color: #73859f;
            background-color: rgba(115,133,159,.5);
            border-width: 0.06em;
            margin-top: -1.25em;
            margin-left: -1.25em;
            box-sizing:content-box;
            -moz-box-sizing:border-box;
        }
        .vjs-big-play-button .vjs-icon-placeholder {
            font-size: 1.63em;
        }
        .vjs-loading-spinner {
            font-size: 2.5em;
            width: 2em;
            height: 2em;
            border-radius: 1em;
            margin-top: -1em;
            margin-left: -1.5em;
        }

        .prism-setting-btn {
            display: none !important;
        }
        .prism-cc-btn {
            display: none !important;
        }
    </style>
    <script type="text/javascript">
        function getHttpsUrl(url){
            if (url == '') {
                return '';
            }
            var currentUrl = window.location.href
            if(currentUrl == undefined || currentUrl == null){
                return url;
            }
            if(currentUrl.indexOf("https") == 0){
                if(url.indexOf("http") == 0){
                    return url.replace('http://', 'https://')
                }
            }
            return url;
        }
    </script>
</head>
<body>


<div id="v_e" class="video-js  vjs-big-play-centered" style="background-image: url(&quot;https://img.quklive.com/userUpload/1503363340705981/1503363340705981/picture/81a904e9-27b5-4b10-ac16-8292384b79a7.jpg&quot;);">
    <button class="vjs-big-play-button" type="button" title="播放视频" aria-disabled="false" id="btn">
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text" aria-live="polite">播放视频</span>
    </button>
    <div class="word" id="word" style="display: none;">
        <p>
            直播已结束
        </p>
    </div>
</div>
<script type="text/javascript" src="./jquery.min.js.下载"></script>
<script type="text/javascript">
        var poster = 'http://img.quklive.com/userUpload/1503363340705981/1503363340705981/picture/81a904e9-27b5-4b10-ac16-8292384b79a7.jpg';
        $("#v_e").css("background-image", "url('"+getHttpsUrl(poster)+"')")
    $("#v_e").click(function(){
        $(this).attr("style", "");
        $("#btn").hide();
        $("#word").show();
    });
</script>
    <div webkit-playsinline="true" x5-playsinline="true" playsinline="true" preload="auto" class="video-js vjs-big-play-centered vjs-paused vjs-workinghover vjs-v7 vjs-user-active vjs-error vjs-controls-disabled" id="my-video" tabindex="-1" role="region" lang="zh" aria-label="Video Player" style="display: none;"><video id="my-video_html5_api" class="vjs-tech" preload="auto" playsinline="playsinline" x5-playsinline="true" webkit-playsinline="true" tabindex="-1" role="application" src="blob:https://cloud.quklive.com/0a095aa0-ce58-476e-832e-5bd26d2907e9"></video><div class="vjs-poster" tabindex="-1" aria-disabled="false" style="background-image: url(&quot;https://img.quklive.com/userUpload/1503363340705981/1503363340705981/picture/81a904e9-27b5-4b10-ac16-8292384b79a7.jpg&quot;);"></div><div class="vjs-text-track-display" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-volume-panel vjs-control vjs-volume-panel-horizontal"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-horizontal"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-time-control vjs-time-divider" aria-hidden="true"><div><span>/</span></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:00"><div class="vjs-load-progress"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-live-control vjs-control vjs-hidden"><div class="vjs-live-display" aria-live="off"><span class="vjs-control-text">Stream Type&nbsp;</span>LIVE</div></div><button class="vjs-seek-to-live-control vjs-control" type="button" title="Seek to live, currently behind live" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Seek to live, currently behind live</span><span class="vjs-seek-to-live-text" aria-hidden="true">LIVE</span></button><div class="vjs-remaining-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Remaining Time&nbsp;</span><span aria-hidden="true">-</span><span class="vjs-remaining-time-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-custom-control-spacer vjs-spacer ">&nbsp;</div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><div class="vjs-playback-rate-value">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"></ul></div></div><div class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Chapters" aria-haspopup="true" aria-expanded="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Chapters</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-title" tabindex="-1">Chapters</li></ul></div></div><div class="vjs-descriptions-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-descriptions-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Descriptions" aria-haspopup="true" aria-expanded="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Descriptions</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">descriptions off</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><div class="vjs-subs-caps-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-subs-caps-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Subtitles" aria-haspopup="true" aria-expanded="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Subtitles</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-texttrack-settings" tabindex="-1" role="menuitem" aria-disabled="false"><span class="vjs-menu-item-text">subtitles settings</span><span class="vjs-control-text" aria-live="polite">, opens subtitles settings dialog</span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">subtitles off</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><div class="vjs-audio-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-audio-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Audio Track" aria-haspopup="true" aria-expanded="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Audio Track</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"></ul></div></div><button class="vjs-picture-in-picture-control vjs-control vjs-button vjs-disabled" type="button" title="Picture-in-Picture" aria-disabled="true" disabled="disabled"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Picture-in-Picture</span></button><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog" tabindex="-1" aria-describedby="my-video_component_413_description" aria-hidden="false" aria-label="Modal Window" role="dialog"><p class="vjs-modal-dialog-description vjs-control-text" id="my-video_component_413_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document">The media could not be loaded, either because the server or network failed or because the format is not supported.</div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="my-video_component_419_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog"><p class="vjs-modal-dialog-description vjs-control-text" id="my-video_component_419_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg-color vjs-track-setting"><legend id="captions-text-legend-my-video_component_419">Text</legend><label id="captions-foreground-color-my-video_component_419" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419"><option id="captions-foreground-color-my-video_component_419-White" value="#FFF" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-White">White</option><option id="captions-foreground-color-my-video_component_419-Black" value="#000" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Black">Black</option><option id="captions-foreground-color-my-video_component_419-Red" value="#F00" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Red">Red</option><option id="captions-foreground-color-my-video_component_419-Green" value="#0F0" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Green">Green</option><option id="captions-foreground-color-my-video_component_419-Blue" value="#00F" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Blue">Blue</option><option id="captions-foreground-color-my-video_component_419-Yellow" value="#FF0" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Yellow">Yellow</option><option id="captions-foreground-color-my-video_component_419-Magenta" value="#F0F" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Magenta">Magenta</option><option id="captions-foreground-color-my-video_component_419-Cyan" value="#0FF" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-color-my-video_component_419 captions-foreground-color-my-video_component_419-Cyan">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-my-video_component_419" class="vjs-label">Transparency</label><select aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-opacity-my-video_component_419"><option id="captions-foreground-opacity-my-video_component_419-Opaque" value="1" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-opacity-my-video_component_419 captions-foreground-opacity-my-video_component_419-Opaque">Opaque</option><option id="captions-foreground-opacity-my-video_component_419-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-my-video_component_419 captions-foreground-opacity-my-video_component_419 captions-foreground-opacity-my-video_component_419-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg-color vjs-track-setting"><legend id="captions-background-my-video_component_419">Background</legend><label id="captions-background-color-my-video_component_419" class="vjs-label">Color</label><select aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419"><option id="captions-background-color-my-video_component_419-Black" value="#000" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Black">Black</option><option id="captions-background-color-my-video_component_419-White" value="#FFF" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-White">White</option><option id="captions-background-color-my-video_component_419-Red" value="#F00" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Red">Red</option><option id="captions-background-color-my-video_component_419-Green" value="#0F0" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Green">Green</option><option id="captions-background-color-my-video_component_419-Blue" value="#00F" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Blue">Blue</option><option id="captions-background-color-my-video_component_419-Yellow" value="#FF0" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Yellow">Yellow</option><option id="captions-background-color-my-video_component_419-Magenta" value="#F0F" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Magenta">Magenta</option><option id="captions-background-color-my-video_component_419-Cyan" value="#0FF" aria-labelledby="captions-background-my-video_component_419 captions-background-color-my-video_component_419 captions-background-color-my-video_component_419-Cyan">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-my-video_component_419" class="vjs-label">Transparency</label><select aria-labelledby="captions-background-my-video_component_419 captions-background-opacity-my-video_component_419"><option id="captions-background-opacity-my-video_component_419-Opaque" value="1" aria-labelledby="captions-background-my-video_component_419 captions-background-opacity-my-video_component_419 captions-background-opacity-my-video_component_419-Opaque">Opaque</option><option id="captions-background-opacity-my-video_component_419-SemiTransparent" value="0.5" aria-labelledby="captions-background-my-video_component_419 captions-background-opacity-my-video_component_419 captions-background-opacity-my-video_component_419-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-my-video_component_419-Transparent" value="0" aria-labelledby="captions-background-my-video_component_419 captions-background-opacity-my-video_component_419 captions-background-opacity-my-video_component_419-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window-color vjs-track-setting"><legend id="captions-window-my-video_component_419">Window</legend><label id="captions-window-color-my-video_component_419" class="vjs-label">Color</label><select aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419"><option id="captions-window-color-my-video_component_419-Black" value="#000" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Black">Black</option><option id="captions-window-color-my-video_component_419-White" value="#FFF" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-White">White</option><option id="captions-window-color-my-video_component_419-Red" value="#F00" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Red">Red</option><option id="captions-window-color-my-video_component_419-Green" value="#0F0" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Green">Green</option><option id="captions-window-color-my-video_component_419-Blue" value="#00F" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Blue">Blue</option><option id="captions-window-color-my-video_component_419-Yellow" value="#FF0" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Yellow">Yellow</option><option id="captions-window-color-my-video_component_419-Magenta" value="#F0F" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Magenta">Magenta</option><option id="captions-window-color-my-video_component_419-Cyan" value="#0FF" aria-labelledby="captions-window-my-video_component_419 captions-window-color-my-video_component_419 captions-window-color-my-video_component_419-Cyan">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-my-video_component_419" class="vjs-label">Transparency</label><select aria-labelledby="captions-window-my-video_component_419 captions-window-opacity-my-video_component_419"><option id="captions-window-opacity-my-video_component_419-Transparent" value="0" aria-labelledby="captions-window-my-video_component_419 captions-window-opacity-my-video_component_419 captions-window-opacity-my-video_component_419-Transparent">Transparent</option><option id="captions-window-opacity-my-video_component_419-SemiTransparent" value="0.5" aria-labelledby="captions-window-my-video_component_419 captions-window-opacity-my-video_component_419 captions-window-opacity-my-video_component_419-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-my-video_component_419-Opaque" value="1" aria-labelledby="captions-window-my-video_component_419 captions-window-opacity-my-video_component_419 captions-window-opacity-my-video_component_419-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-my-video_component_419" class="">Font Size</legend><select aria-labelledby="captions-font-size-my-video_component_419"><option id="captions-font-size-my-video_component_419-50" value="0.50" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-50">50%</option><option id="captions-font-size-my-video_component_419-75" value="0.75" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-75">75%</option><option id="captions-font-size-my-video_component_419-100" value="1.00" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-100">100%</option><option id="captions-font-size-my-video_component_419-125" value="1.25" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-125">125%</option><option id="captions-font-size-my-video_component_419-150" value="1.50" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-150">150%</option><option id="captions-font-size-my-video_component_419-175" value="1.75" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-175">175%</option><option id="captions-font-size-my-video_component_419-200" value="2.00" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-200">200%</option><option id="captions-font-size-my-video_component_419-300" value="3.00" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-300">300%</option><option id="captions-font-size-my-video_component_419-400" value="4.00" aria-labelledby="captions-font-size-my-video_component_419 captions-font-size-my-video_component_419-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="my-video_component_419" class="">Text Edge Style</legend><select aria-labelledby="my-video_component_419"><option id="my-video_component_419-None" value="none" aria-labelledby="my-video_component_419 my-video_component_419-None">None</option><option id="my-video_component_419-Raised" value="raised" aria-labelledby="my-video_component_419 my-video_component_419-Raised">Raised</option><option id="my-video_component_419-Depressed" value="depressed" aria-labelledby="my-video_component_419 my-video_component_419-Depressed">Depressed</option><option id="my-video_component_419-Uniform" value="uniform" aria-labelledby="my-video_component_419 my-video_component_419-Uniform">Uniform</option><option id="my-video_component_419-Dropshadow" value="dropshadow" aria-labelledby="my-video_component_419 my-video_component_419-Dropshadow">Dropshadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-my-video_component_419" class="">Font Family</legend><select aria-labelledby="captions-font-family-my-video_component_419"><option id="captions-font-family-my-video_component_419-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-my-video_component_419-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-my-video_component_419-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-my-video_component_419-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-my-video_component_419-Casual" value="casual" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-Casual">Casual</option><option id="captions-font-family-my-video_component_419-Script" value="script" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-Script">Script</option><option id="captions-font-family-my-video_component_419-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-my-video_component_419 captions-font-family-my-video_component_419-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" aria-disabled="false" title="Close Modal Dialog"><span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div></div>
<script type="text/javascript" src="./jquery.min.js.下载"></script>
<script src="./videojs-7.11.5.min.js.下载"></script>
<script src="./videojs-7.11.5-zh-CN-2.js.下载"></script>
<script src="./flv-1.5.0.min.js.下载"></script>
<script src="./videojs-flvjs-0.2.0.min.js.下载"></script>
<script src="./videojs-resolution-switcher-v7.js.下载"></script>
<script src="./aliplayer-min.js.下载"></script>
<script type="text/javascript" src="./buriedPoint-v3-20220729.js.下载"></script><script language="javascript" src="./ua-parser.js.下载"></script><!-- 埋点 -->
<script type="text/javascript">
    <!-- 直播未开始时不播放录像 -->
    var isLive = false;

    var videoUrl = 'http://recordcdn.quklive.com/broadcast/activity/1716987580964053/record.m3u8';
    var hlsUrl = getHttpsUrl('http://play-sh.quklive.com/live/1716987580964053.m3u8');
    var rtsFlag = 0;
    const HOURS24 = 86400000;
    const HOURS12 = 86400000/2;

    showPrompt()
    
    <!-- 低延迟直播时判断浏览器是否支持 -->
    if (rtsFlag == 1) {
        (function () {
            try {
                if (videoUrl.includes('artc')) {
                    const aliRts = AliRTS.createClient();
                    aliRts.isSupport({isReceiveVideo: true}).then(re => {
                        doPlay()
                    }).catch(() => {
                        videoUrl = hlsUrl
                        doPlay()
                    })
                } else{
                    doPlay()
                }
            } catch (e) {
                videoUrl = hlsUrl
                doPlay()
            }
        }());
    } else {
        doPlay()
    }

    function getTidyupTime (timestamp) {  // 传入毫秒时间戳
        var date = new Date(timestamp)
        var Y = date.getFullYear() + '/'
        var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '/'
        var D = date.getDate() < 10 ? '0' + date.getDate() + ' ' : date.getDate() + ' '
        var H = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':'
        var MINUTE = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':'
        var S = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds()
        return Y + M + D + H + MINUTE + S
    }

    function doPlay () {
        var poster = 'http://img.quklive.com/userUpload/1503363340705981/1503363340705981/picture/81a904e9-27b5-4b10-ac16-8292384b79a7.jpg';
        var sources
        var playerOptions = {
            techOrder: ['html5', 'flvjs', 'rtsjs'],
            poster: getHttpsUrl(poster),
            sources:[],
            autoplay: false,
            controlBar:{
              currentTimeDisplay: true
            }
        }
        var activity = {"id":1716987580964053,"userId":1503363340705981,"name":"直播 | 中国科学家博物馆首展探馆","state":1,"updateTime":1717032318000,"createTime":1716987580000,"urlGroup":{"pushUrl":"","srtPushUrl":"","hlsUrl":"http://play-sh.quklive.com/live/1716987580964053.m3u8","hdlUrl":"http://play-sh.quklive.com/live/1716987580964053.flv","rtmpUrl":"rtmp://play-sh.quklive.com/live/1716987580964053","recordUrl":"http://recordcdn.quklive.com/broadcast/activity/1716987580964053/record.m3u8","playUrl":"http://cloud.quklive.com/cloud/a/embed/1716987580964053","iframeUrl":"http://cloud.quklive.com/cloud/a/embed/1716987580964053","rtsUrl":"artc://play-sh.quklive.com/live/1716987580964053_opus-RTS"},"watchCdnList":["v2_aliyun_sh"],"pushCdnList":["v2_aliyun_sh"],"watchUrls":[{"cdnName":"V2_阿里_上海","hlsUrl":"http://play-sh.quklive.com/live/1716987580964053.m3u8","hdlUrl":"http://play-sh.quklive.com/live/1716987580964053.flv","rtmpUrl":"rtmp://play-sh.quklive.com/live/1716987580964053","rtsUrl":"artc://play-sh.quklive.com/live/1716987580964053_opus-RTS","recordUrl":"http://recordcdn.quklive.com/broadcast/activity/1716987580964053/record.m3u8","strength":5}],"enableDetection":false,"memberId":1503363340705981,"startTime":1717034400000,"endTime":1717038000000,"existLive":1,"capture":"http://img.quklive.com/userUpload/1503363340705981/1503363340705981/picture/81a904e9-27b5-4b10-ac16-8292384b79a7.jpg","mark":0,"uploadFileId":0,"tag":"","liveType":1,"cdn":0,"pullUrl":"","pullStandbyUrlJson":"[]","pullPlatform":"","recordKeepDay":0,"recordPlayDuration":0,"concurrentNum":0,"classificationId":0,"transcodeList":"","transportProtocol":"hls","playUrl":"","qrcodeUrl":"","screenshot":"http://recordcdn-sh.quklive.com/broadcast/activity/1716987580964053/screenshot.jpg","recordStart":1717034400000,"recordEnd":1717038000000,"live":false,"auditState":1,"show":true,"tableName":"activity5","free":false,"switchOpen":false,"switchMember":false,"hasDetail":false,"manyConcurrence":false,"concurrence":false,"hasPpt":false,"disableRecord":false,"deductDone":false,"isCourse":0,"interactEnable":0,"sinaFlag":0,"ignoreRecord":0,"mediaFlag":false,"subjectFlag":false,"exportFlag":false,"importFlag":false,"vrFlag":false,"_4kFlag":false,"portraitFlag":false,"srtFlag":false,"lineFlag":false,"isWechatLive":0,"rtsFlag":0,"timeMoveFlag":false,"distributionChannelFlag":false,"multiFlag":false,"customFieldFlag":false,"activityExtraFlag":false,"pullRecordFlag":false,"expired":true,"timeState":1,"openTranscode":false,"programLive":false,"private":false};
        var transportProtocol = activity.transportProtocol;
        var isEnd = true
        if (activity) {
          var openTranscode = activity.openTranscode
          console.log(activity.urlGroup, openTranscode)
        }
        if (isLive && openTranscode && activity.urlGroup.transcodeList.length) {
            playerOptions.plugins = {
                videoJsResolutionSwitcher: {
                  dynamicLabel: true,
                  default: 'high'
                }
            }
            sources = setVideo(videoUrl)
            sources.label = '原画'
            playerOptions.sources = [sources]
            for (var i = 0; i < activity.urlGroup.transcodeList.length; i ++) {
                var item = activity.urlGroup.transcodeList[i]
                if (transportProtocol == 'hdl') {
                    sources = setVideo(item.hdlUrl);
                } else {
                    sources = setVideo(item.hlsUrl);
                }
                sources.label = item.templateNam
                playerOptions.sources.push(sources)
            }
        } else {
            sources = setVideo(videoUrl)
            playerOptions.sources = [sources]
        }

        console.log(isEnd, 'isEnd here')
        console.log(isLive, 'isLive here')
        console.log(activity, 'activity here')
        if (activity.timeMoveFlag && isLive) {
            let self = this
            this.getStartTime = 0  // liveTimeShiftUrl请求查询开始时间
            this.realStartTime = 0
            if (activity.startTime < new Date().valueOf() - HOURS12) {  // 如果直播开始时间比当前时间早24小时以上，则把请求查询开始时间设置为当前时间前移24小时
                this.getStartTime = new Date().valueOf() - HOURS12
            } else {
                this.getStartTime = activity.startTime
            }
            console.log(this.getStartTime, 'getStartTime')
            let apartUrl = activity.urlGroup.hlsUrl.split('/')
            this.liveTimeShiftUrl = '//'+apartUrl[2]+'/openapi/timeline/query?aliyunols=on&app='+apartUrl[3]+'&stream='+apartUrl[4].split('.')[0]+'&format=ts&lhs_start_unix_ms_0='+this.getStartTime+'&lhs_end_unix_ms_0='+activity.endTime
            console.log(this.liveTimeShiftUrl, 'liveTimeShiftUrl')

            $.ajax({
                url: this.liveTimeShiftUrl,
                async: false,
                type: 'GET',
                success: function (data) {
                    console.log(JSON.parse(data), 'get liveTimeShiftUrl success')
                    self.realStartTime = JSON.parse(data).content.timeline[0].start * 1000  // 请求得到直播活动时间内首个有效ts开始时间戳，单位秒
                    if (self.realStartTime < new Date().valueOf() - HOURS12) {  // 如果获得的首个有效ts片段开始时间比当前时间早24小时以上，则把直播开始时间设置为当前时间前移24小时
                        self.realStartTime = self.getTidyupTime(new Date().valueOf() - HOURS12)
                    } else {
                        self.realStartTime = self.getTidyupTime(self.realStartTime)
                    }
                    console.log(self.realStartTime, 'realStartTime')
                }
            })

            var firstFlag = true
            this.startTime = activity.startTime
            if (this.startTime < new Date().valueOf() - HOURS12) {  // 如果直播开始时间比当前时间早24小时以上，则把直播开始时间设置为当前时间前移24小时
                this.startTime = this.getTidyupTime(new Date().valueOf() - HOURS12)
            } else {
                this.startTime = this.getTidyupTime(new Date(activity.startTime))
            }
            this.endTime = this.getTidyupTime(new Date(activity.endTime))

            var aliPlayUrl = playerOptions.sources[0].src.replace('http://', '//')

            var param = {
                id: 'my-aliplayer',
                source: aliPlayUrl,
                width: '100%',
                height: '100%',
                autoplay: false,
                isLive: true,
                liveStartTime: realStartTime || startTime,
                liveOverTime: endTime,
                liveShiftMinOffset: '30'
            }
            var player = new Aliplayer(param, function (player) {
                console.log("播放器创建成功")
            })
            player.on('play', function () {
                console.log('play')
                if (firstFlag) {
                    console.log("firstplay")
                    DM.visit("1716987580964053",videoUrl,"record", "1503363340705981");
                    DM.watching("1716987580964053",videoUrl,"record", "1503363340705981");
                }
                firstFlag = false
            });
            player.on('error', function (e) {
                $("#v_e").show()
                $(".video-js.vjs-error").hide()
            })
        } else {
            var player = videojs('my-video', playerOptions, function () {
                this.on('play',function(){
                    var videoDom = document.querySelector('.video-js video')
                    videoDom.autoplay = true
                    videoDom.setAttribute('autoplay', true)
                })
            })

            player.on("firstplay", function(){
                console.log("firstplay")
                DM.visit("1716987580964053",videoUrl,"record", "1503363340705981");
                DM.watching("1716987580964053",videoUrl,"record", "1503363340705981");
            });
            player.on("error", function(e){
                $("#v_e").show()
                $(".video-js.vjs-error").hide()
            });
        }
    }

    function setVideo (videoUrl) {
        if (!videoUrl) {
            return {}
        }
        let sources = {}
        sources.src = videoUrl.replace('http://', '//')
        if (videoUrl.indexOf('rtmp') === 0) {
            sources.type = 'rtmp/mp4'
        } else if (videoUrl.includes('.flv')) {
            sources.type = 'video/x-flv'
        } else if (videoUrl.includes('.m3u8')) {
            sources.type = 'application/x-mpegURL'
            sources.withCredentials = false
        } else if (videoUrl.includes('artc')) {
            sources.type = 'artc/mp4'
        } else {
            sources.type = 'video/mp4'
        }
        return sources
    }
    function showPrompt () {
      const previewCheckToken  = '';
      if (!previewCheckToken) return

      layer.prompt({title: '预览口令', closeBtn: 0, shadeClose: false, btn: ['确定']}, function(value, index, elem){
        if(value === '') return layer.msg('请输入预览口令', {offset: '16px'});
        $.ajax({
          type: "POST",
          url: "/cloud/embed/checkPreview",
          data: {
            'activityId': 1716987580964053,
            'previewCode': value,
            'previewCheckToken': previewCheckToken  
          }
        }).done(function(res) {
          if (res.code === 0) {
            if (res.value.checked) {
              layer.msg('口令正确', {offset: '16px'});
              layer.close(index);
            } else {
              layer.msg('口令错误', {offset: '16px'});
            }
          } else {
            layer.msg(res.msg, {offset: '16px'});
          }
        }).fail(function() {
          layer.msg('网络异常，请稍后重试', {offset: '16px'});
        });
      });
    }
</script>


</body></html>